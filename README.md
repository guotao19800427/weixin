# 云杉美菜微信公众号 weixin
soucefile of weixin 
这里是对云杉美菜微信公众号商城的总结 1：和产品设计师沟通，主要的关注点是怎样把需求转换成一个一个的功能接口， 2：把一些全局的功能抽象出来，比如说有一个组件，由3个小功能组成，两个个按钮，让购买的数量+1或者-1，一个input，输入数量直接修改购买数量。这些操作其实是在和整体的购物车数据进行交互，购物车这个数据模型就是子作用域共有的数据模型，就把他写进service里，然后这些抽象出来的统一的那几个按钮，就写成指令，通过指令里的link函数中的scope参数和各个子作用域的scope进行关联。还有一些公共的功能性函数，我直接写到了$rootScope里，比如说涉及到用户权限的验证，同步总价和总数量，我写了一个checkUserStatus，用延迟对象deferred保证checkUserStatus交互完成再进行后面的操作。 3：用ui-router配置路由，分配好相关的view模板和控制器controller，开始按不同的模块和同事一起编写。 4：测试的时候，处理bug和性能上的问题
